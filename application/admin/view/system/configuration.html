{extend name="public/base" /}
{block name="style"}

{/block}
{block name="main_body"}
<div class="row">
    <div class="col-xs-12">
        <div class="box box-primary">
            <div class="box-header">
                <a href="{:url('System/create_configuration')}" class="btn btn-success btn-sm"><i class="fa fa-plus"></i> 新增 </a>
                <div class="btn-group">
                    {volist name="group" id="vo"}
                        <a href="{:url('System/configuration', ['group_id' => $key])}" class="btn btn-info btn-sm"><i class="fa fa-plus"></i> {$vo} </a>
                    {/volist}
                </div>

                <div class="box-tools">
                    <form action="{:url('System/configuration')}" method="post">
                        <div class="input-group input-group-sm" style="width: 210px;">
                            <input type="text" name="keywords" class="form-control pull-right" id="keywords" placeholder="请输入ID名或标识名称或标题" value="{$keywords}">
                            <div class="input-group-btn">
                                <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="box-body table-responsive">
                <table class="table table-hover table-bordered">
                    <tr>
                        <th>ID</th>
                        <th>标识名称</th>
                        <th>标题</th>
                        <th>分组</th>
                        <th>类型</th>
                        <th>操作</th>
                    </tr>
                    {volist name="config" id="vo" empty="$empty"}
                    <tr>
                        <td>{$vo.id}</td>
                        <td>{$vo.name}</td>
                        <td>{$vo.title}</td>
                        <td>{$vo.group|get_config_group}</td>
                        <td>{$vo.type|get_config_type}</td>
                        <td>
                            <div class="btn-group">
                                <a href="{:url('System/edit_configuration', ['id' => $vo['id']])}" class="btn btn-warning btn-xs"><i class="fa fa-edit"></i> 编辑 </a>
                                {eq name="vo['status']" value="1"}
                                <a href="{:url('System/change_status', ['method' => 'forbid', 'id' => $vo['id']])}" class="btn btn-primary btn-xs ajax-get"><i class="fa fa-ban"></i> 禁用 </a>
                                {else /}
                                <a href="{:url('System/change_status', ['method' => 'resume', 'id' => $vo['id']])}" class="btn btn-info btn-xs ajax-get"><i class="fa fa-check-circle-o"></i> 启用 </a>
                                {/eq}
                                {neq name="vo['status']" value="-1"}
                                <a href="{:url('System/change_status', ['method' => 'delete', 'id' => $vo['id']])}" class="btn btn-danger btn-xs confirm ajax-get"><i class="fa fa-trash"></i> 删除 </a>
                                {/neq}
                            </div>
                        </td>
                    </tr>
                    {/volist}
                </table>
                {$page|raw}
            </div>
        </div>
    </div>
</div>
{/block}
{block name="script"}

{/block}